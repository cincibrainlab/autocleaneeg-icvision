# Kamal 2.x secrets configuration
# Secrets from 1Password vault "autoclean IC Vision" > "Secure Note"
# Requires: OP_SERVICE_ACCOUNT_TOKEN environment variable

# Registry password (GitHub token for ghcr.io)
KAMAL_REGISTRY_PASSWORD=$(op read "op://autoclean IC Vision/Secure Note/KAMAL_REGISTRY_PASSWORD" 2>/dev/null || echo "${KAMAL_REGISTRY_PASSWORD}")

# Rails master key
RAILS_MASTER_KEY=$(op read "op://autoclean IC Vision/Secure Note/RAILS_MASTER_KEY" 2>/dev/null || echo "${RAILS_MASTER_KEY}")

# PostgreSQL password
POSTGRES_PASSWORD=$(op read "op://autoclean IC Vision/Secure Note/POSTGRES_PASSWORD" 2>/dev/null || echo "${POSTGRES_PASSWORD:-postgres}")
